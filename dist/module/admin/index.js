angular.module("App",["commonServices"]).controller("AdminCtrl",["$scope","Alertify","Entity",function(t,e,i){t.columns=[{field:"title",title:"标题"},{field:"pv",title:"浏览量",width:100},{field:"postLimit",title:"参与人数",width:100},{field:"likeCount",title:"点赞数",width:100},{field:"type",title:"类型",width:150},{field:"status",title:"状态",width:150},{field:"isSelected",title:"是否精选",width:120},{title:"操作",width:120}],t.types=[{key:"recommend",text:"顶部推荐"},{key:"surrealism",text:"超现实"},{key:"anti-realism",text:"反现实"},{key:"realism",text:"无"}],t.status=[{key:"pending",text:"待审核"},{key:"accept",text:"审核通过"},{key:"reject",text:"审核不通过"}],t.save=function(t){i.update(t).then(function(t){e.log("保存成功！")})},t.more=function(){i.get({limit:t.entitys.length+10}).then(function(i){i.length===t.entitys.length?e.warn("没有更多了！"):t.entitys=i})},i.get().then(function(e){t.entitys=e})}]);