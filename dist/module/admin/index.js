angular.module("App",["commonServices"]).controller("AdminCtrl",["$scope","Alertify","Entity",function(t,e,i){t.types=[{key:"recommend",text:"顶部推荐"},{key:"surrealism",text:"超现实"},{key:"anti-realism",text:"反现实"},{key:"realism",text:"无"}],t.types_with_all=[{text:"全部"}].concat(t.types),t.status=[{key:"pending",text:"待审核"},{key:"accept",text:"审核通过"},{key:"reject",text:"审核不通过"}],t.status_with_all=[{text:"全部"}].concat(t.status),t.search={limit:10},t.columns=[{field:"title",title:"标题"},{field:"likeCount",title:"点赞数",width:100},{field:"type",title:"类型",width:150},{field:"status",title:"状态",width:150},{field:"isSelected",title:"是否精选",width:100},{title:"发布人",width:120},{field:"postLimit",title:"参与人数",width:80},{field:"createdAt",title:"创建日期",width:150},{title:"操作",width:60}],t.query=function(e){i.get(e).then(function(e){t.entitys=e})},t.save=function(t){i.update(t).then(function(t){e.log("保存成功！")})},t.more=function(){t.search.limit+=10,i.get(t.search).then(function(i){i.length===t.entitys.length?e.warn("没有更多了！"):t.entitys=i})},t.query()}]);