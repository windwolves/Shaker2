<!DOCTYPE html>
<html lang="en" ng-app="App">

<head>
    <meta charset="UTF-8">
    <title>后台管理 | 内容管理</title>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge">
    <meta name="apple-mobi e-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

    <link rel="stylesheet" href="/module/post/css/main.css">
</head>

<body class="container" ng-controller="AdminCtrl">

    <form class="form-horizontal" ng-submit="query(search)">
        <div class="form-group">
            <!--label class="control-label col-sm-1">标题</label>
            <div class="col-sm-3">
                <input type="text" class="form-control" ng-model="search.title">
            </div>
            <label class="control-label col-sm-1">ID</label>
            <div class="col-sm-3">
                <input type="text" class="form-control" ng-model="search.id">
            </div-->
            <label class="control-label col-sm-1">状态</label>
            <div class="col-sm-3">
                <select class="form-control" ng-model="search.status" ng-options="item.key as item.text for item in status_with_all"></select>
            </div>

        </div>

        <div class="form-group">

            <div class="col-sm-2 col-sm-offset-5">
                <button type="submit" class="btn btn-default">查询</button>
            </div>
        </div>
    </form>

    <table class="table" ng-cloak>
        <colgroup>
            <col ng-repeat="col in columns" width="{{col.width}}" />
        </colgroup>
        <tr>
            <th ng-repeat="col in columns" ng-bind="col.title"></th>
        </tr>
        <tr ng-repeat="d in posts">
            <!--td ng-bind="d.title"></td-->
            <td ng-bind="d.id"></td>
            <td>
                <input type="text" class="form-control" ng-model="d.likeCount" />
            </td>
            <td>
                <select class="form-control" ng-model="d.status" ng-options="item.key as item.text for item in status"></select>
            </td>
            <td>{{d.Owner.nickname}}</td>
            <td>{{d.createdAt | date: 'yy/MM/dd HH:mm:ss'}}</td>
            <td>
                <button type="button" ng-click="save(d)">保存</button>
            </td>
        </tr>
    </table>

    <div>
        <button type="button" class="btn btn-link" ng-click="more()">加载更多</button>
    </div>

    <div class="instruction">
        <a href="/admin">ps：审核话题点这里>></a>
        <p>说明：</p>
        <p>修改“点赞数”可影响在App首页中的顺序，越高则排名越靠前</p>
        <p>修改“状态”即审核功能</p>
    </div>

    <!-- build:js /js/ngCommon.js -->
    <script src="/lib/angular.js"></script>
    <script src="/lib/angular-resource.js"></script>
    <script src="/lib/alertify.js"></script>
    <script src="/js/services.js"></script>
    <!-- endbuild  -->

    <script src="/module/post/index.js"></script>

</body>

</html>
